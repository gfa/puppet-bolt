---
version: 5
defaults:
  datadir: hieradata
  data_hash: yaml_data
hierarchy:
  - name: 'Global data'
    lookup_key: eyaml_lookup_key
    paths:
      - "hosts/%{::hostname}.yaml"
      - 'infrastructure.yaml'
      - 'base.yaml'
      - 'firewall.yaml'
      - 'common.yaml'
      - 'apt.yaml'
      - 'unattended_upgrades.yaml'
      - 'mysql.yaml'
      - 'packages.yaml'
      - 'needrestart.yaml'
      - 'munin.yaml'
      - 'ssh.yaml'
      - 'nullmailer.yaml'
    options:
      encrypt_method: gpg
      gpg_always_trust: true
      gpg_recipients_file: "hiera-eyaml-gpg.recipients"
      pkcs7_private_key: 'keys/private_key.pkcs7.pem'
      pkcs7_public_key: 'keys/public_key.pkcs7.pem'
